<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>KORVIL | Sistema Inteligente</title>

<!-- ICONS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
:root{
  --bg:#0b0b0b;
  --card:#141414;
  --primary:#00e0ff;
  --text:#f1f1f1;
  --muted:#9a9a9a;
}

*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}

/* ===== LOGIN ===== */
#login{
  height:100vh;display:flex;align-items:center;justify-content:center
}
.login-box{
  background:var(--card);
  padding:30px;
  width:320px;
  border-radius:12px;
  box-shadow:0 0 20px rgba(0,224,255,.2)
}
.login-box h2{text-align:center;color:var(--primary)}
.login-box input{
  width:100%;padding:10px;margin:10px 0;
  background:#000;border:1px solid #333;color:#fff;border-radius:6px
}
.login-box button{
  width:100%;padding:10px;
  background:var(--primary);border:none;border-radius:6px;
  font-weight:bold;cursor:pointer
}

/* ===== APP ===== */
#app{display:none}

/* TOP BAR */
.topbar{
  display:flex;align-items:center;justify-content:space-between;
  padding:10px 20px;background:#000;border-bottom:1px solid #222
}
.menu-btn{cursor:pointer;font-size:20px}
.menu-horizontal{
  display:flex;gap:20px
}
.menu-horizontal span{
  cursor:pointer;color:var(--muted)
}
.menu-horizontal span:hover{color:var(--primary)}
.profile{
  display:flex;align-items:center;gap:10px
}
.profile i{font-size:22px;color:var(--primary)}

/* SIDEBAR */
.sidebar{
  position:fixed;top:0;left:-260px;height:100%;
  width:260px;background:#000;padding:20px;
  transition:.3s;z-index:10
}
.sidebar.active{left:0}
.sidebar h3{color:var(--primary)}
.sidebar div{
  margin:10px 0;cursor:pointer;color:var(--muted)
}
.sidebar div:hover{color:var(--primary)}

/* CONTENT */
.content{padding:30px}

/* CARDS */
.cards{
  display:flex;gap:20px;flex-wrap:wrap
}
.card{
  background:var(--card);
  padding:20px;border-radius:12px;
  width:220px;cursor:pointer;
  transition:.3s
}
.card:hover{box-shadow:0 0 15px rgba(0,224,255,.3)}
.card h3{color:var(--primary)}

/* MODAL */
.modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,.8);
  display:none;align-items:center;justify-content:center
}
.modal-box{
  background:var(--card);padding:30px;border-radius:12px;
  width:350px;text-align:center
}
.modal-box button{
  margin-top:20px;padding:10px 20px;
  background:var(--primary);border:none;border-radius:6px
}

/* K-AI */
.kai{
  margin-top:40px;background:#000;padding:20px;border-radius:12px
}
.kai h3{color:var(--primary)}
.kai-log{
  height:150px;overflow:auto;font-size:14px;color:var(--muted)
}
.kai input{
  width:100%;padding:10px;margin-top:10px;
  background:#111;border:1px solid #333;color:#fff
}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>KORVIL LOGIN</h2>
    <input id="user" placeholder="Usuário ou e-mail">
    <input id="pass" type="password" placeholder="Senha">
    <button onclick="login()">Entrar</button>
  </div>
</div>

<!-- APP -->
<div id="app">

<div class="sidebar" id="sidebar">
  <h3>Menu</h3>
  <div onclick="openSector('Sistema K')">Sistema K</div>
  <div onclick="openSector('K-TP')">K-TP</div>
  <div onclick="openSector('K-AFORTUNADO')">K-AFORTUNADO</div>
  <div onclick="openSector('K-ALMA')">K-ALMA</div>
</div>

<div class="topbar">
  <i class="fas fa-bars menu-btn" onclick="toggleSidebar()"></i>

  <div class="menu-horizontal">
    <span onclick="home()">Início KORVIL</span>
    <span onclick="openSector('Sistema K')">Sistema K</span>
    <span onclick="openSector('K-TP')">K-TP</span>
    <span onclick="openSector('K-AFORTUNADO')">K-AFORTUNADO</span>
    <span onclick="openSector('K-ALMA')">K-ALMA</span>
  </div>

  <div class="profile">
    <i class="fas fa-user-circle"></i>
    <span>Say Korvil</span>
  </div>
</div>

<div class="content" id="content"></div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
    <button onclick="enterSector()">Entrar</button>
  </div>
</div>

<script>
/* ===== LOGIN ===== */
const HASH = btoa("korvilxxx"); // hash simples para demo

function login(){
  const u = user.value;
  const p = btoa(pass.value);

  if((u==="Say Korvil"||u==="saykorvil@gmail.com") && p===HASH){
    localStorage.setItem("korvil_auth","true");
    startApp();
  } else {
    alert("Acesso negado");
  }
}

function startApp(){
  login.style.display="none";
  app.style.display="block";
  home();
}

if(localStorage.getItem("korvil_auth")==="true") startApp();

/* ===== UI ===== */
function toggleSidebar(){
  sidebar.classList.toggle("active")
}

function home(){
  content.innerHTML=`
  <h1>Bem-vindo ao KORVIL</h1>
  <div class="cards">
    ${card("Sistema K","Gestão e serviços")}
    ${card("K-TP","Treinamento Personalizado")}
    ${card("K-AFORTUNADO","Empreendedorismo")}
    ${card("K-ALMA","Saúde e equilíbrio")}
  </div>
  ${kai()}
  `;
}

function card(name,desc){
  return `<div class="card" onclick="openSector('${name}')">
    <h3>${name}</h3><p>${desc}</p></div>`
}

/* ===== SECTORS ===== */
let currentSector="";

function openSector(name){
  currentSector=name;
  modal.style.display="flex";
  modalTitle.innerText=name;
  modalDesc.innerText="Acessar o setor "+name;
}

function enterSector(){
  modal.style.display="none";
  content.innerHTML=`
  <h2>${currentSector}</h2>
  <ul>
    <li>Sub-aba 1</li>
    <li>Sub-aba 2</li>
    <li>Sub-aba 3</li>
  </ul>
  ${kai()}
  `;
}

/* ===== K-AI REAL (estado + contexto) ===== */
let memory=[];

function kai(){
  return `
  <div class="kai">
    <h3>K-AI • Inteligência do Sistema</h3>
    <div class="kai-log" id="kaiLog"></div>
    <input placeholder="Fale com o K-AI" onkeydown="if(event.key==='Enter')talk(this.value,this)">
  </div>`
}

function talk(msg,input){
  memory.push({sector:currentSector,msg});
  const response = `Analisando "${msg}" no contexto ${currentSector||"KORVIL"}. Próxima ação sugerida.`;
  kaiLog.innerHTML+=`<div>> ${msg}</div><div style="color:#00e0ff">${response}</div>`;
  input.value="";
}
</script>
</body>
</html>
